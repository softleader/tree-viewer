<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="./public/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./public/css/react-treeview.css">
    <title>Tree</title>
</head>

<body>
<div class="container">
    <div class="row">
        <div class="col-md-8" id="showTree"></div>
        <div class="col-md-4"></div>
    </div>
</div>
<script type="text/javascript" src="js/bundle.js"></script>
<script src="http://localhost:3000/webpack-dev-server.js"></script>
<script>
    react.renderTree({
        name: "TREE",
        // 依照傳入的 dn 搜尋底下所有的 dn(回傳陣列)
        getAjaxObj: {
            url: "http://localhost:3000/test",
            dataType: 'json',
            contentType: 'application/json; charset=UTF-8',
            type: 'GET',
//            data: {dn: dn},
            success: function (data, textStatus, jqXHR) {
                console.log('findByDn success');
            },
        },
        // 依照傳入的 dn 做刪除
        deleteAjaxObj: {
            url: "http://localhost:3000/test",
            dataType: 'json',
            contentType: 'application/json; charset=UTF-8',
            type: 'DELETE',
//            data: JSON.stringify({dn: dn}),
            success: function (data, textStatus, jqXHR) {
                console.log('delete success');
            }
        },
        // 依照傳入的 dn 做新增
        postAjaxObj: {
            url: "http://localhost:3000/test",
            dataType: 'json',
            contentType: 'application/json; charset=UTF-8',
            type: 'POST',
//            data: JSON.stringify({dn: dn}),
            success: function (data, textStatus, jqXHR) {
                console.log('post success');
            },
        },
        initTreeDatas: ['uid=137,ou=technology department,dc=softleader,dc=com'
            , 'uid=138,ou=technology department,dc=softleader,dc=com'
            , 'uid=138,ou=technology department,dc=softleader,dc=com1'
            , 'uid=139,ou=technology department,dc=softleader,dc=com'],
        component: {
            DropDown: true,
            TreeList: true
        },
        rdnMapping: {
            uid: '人員',
            ou: '組織'
        }
    });

    setTimeout(function() {
        react.initTreeDatas(['uid=1,ou=technology department,dc=softleader,dc=com2'
            , 'uid=2,ou=technology department,dc=softleader,dc=com3'
            , 'uid=1,ou=technology department,dc=softleader,dc=com4'
            , 'uid=3,ou=technology department,dc=softleader,dc=com5'])
    }, 1500);
</script>
</body>

</html>
